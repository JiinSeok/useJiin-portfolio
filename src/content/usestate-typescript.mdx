---
title: 'useState에는 언제 어떻게 타입을 지정해야 할까?'
publishedAt: '2024-07-03'
summary: 'useState의 타입 지정은 초기값에 따라 추정되며, null, 빈 배열, 또는 빈 객체의 경우 제네릭 타입으로 명시해야 한다. 각 경우에 맞는 타입을 설정하여 런타임 오류를 방지할 수 있다.'
tags: 'TypeScript, React, useState'
---

**useState의 타입 지정은 state의 타입 지정**이라고 생각할 수 있습니다.

`useState(초기값)`의 초기값을 따라 타입이 추정됩니다.

```tsx
import { useState } from 'react'

const [score, setScore] = useState(0) // 타입은 number
```

초기값으로 타입 추정을 할 수 없을 때 제네릭 타입으로 타입을 지정하게 됩니다.

## 타입 추정이 되지 않는 초기값

### 1. 초기값이 `null`일 때

```tsx
import { useState } from 'react'

const [user, setUser] = useState<string | null>(null) // null 타입을 유니언 타입으로 추가한다.
```

### 2. 초기값이 빈 배열일 때

#### 타입이 1개인 배열

```tsx
import { useState } from 'react'

const [scores, setScores] = useState<number[]>([])
```

#### 타입이 여러 개인 배열

```tsx
import { useState } from 'react'

const [mixed, setMixed] = useState<(number | string)[]>([]) // 유니언 타입으로 모든 타입을 포괄
```

#### 객체 배열

```tsx
import { useState } from 'react'

interface User {
  id: number
  name: string
}

const [users, setUsers] = useState<User[]>([])
```

### 3. 초기값이 빈 객체일 때

#### 안티 패턴: 타입 단언 사용

런타임 오류가 발생할 수 있으므로 초기값을 빈 객체로 지정하지 않는 것이 좋습니다.

```tsx
import { useState } from 'react'

interface User {
  id: number
  name: string
}

const [user, setUser] = useState<User>({} as User) // 타입 오류 방지

// 나중에 user 객체의 속성에 접근하는 코드
console.log(user.id) // 런타임 오류 발생 가능
```

#### 권장 패턴: 기본값 지정

완전히 빈 객체 대신 각 프로퍼티의 기본값이 있는 객체를 지정합니다.

```tsx
import { useState } from 'react'

interface User {
  id: number
  name: string
}

const [user, setUser] = useState<User>({ id: 0, name: '' })
```
